{
  "defs": {
    "resource-group": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "gpus": {
          "type": "integer",
          "minimum": 0
        },
        "cpus": {
          "anyOf": [{
            "type": "number",
            "minimum": 0.01
          },{
            "type": "integer",
            "minimum": 1
          }]
        },
        "mem": {
          "type": "integer",
          "minimum": 1
        }
      }
    },

    "resources": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "master": {"$ref": "#/defs/resource-group"},
        "worker": {"$ref": "#/defs/resource-group"},
        "ps": {"$ref": "#/defs/resource-group"}
      }
    }
  }
}